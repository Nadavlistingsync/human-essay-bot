<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EssayForge</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <h1>📝 EssayForge</h1>
                <p>AI Essay Writer</p>
            </div>
        </header>

        <main class="main-content">
            <div class="status-section" id="status-section">
                <div class="status-indicator" id="status-indicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Ready</span>
                </div>
            </div>

            <div class="input-section">
                <div class="form-group">
                    <label for="essay-prompt">📝 Essay Prompt:</label>
                    <textarea 
                        id="essay-prompt" 
                        placeholder="Write an essay about artificial intelligence and its impact on education..."
                        rows="4"
                    ></textarea>
                </div>

                <div class="form-group">
                    <label for="typing-speed">⚡ Typing Speed:</label>
                    <select id="typing-speed">
                        <option value="slow">🐌 Slow (200-400ms per char)</option>
                        <option value="medium" selected>🚀 Medium (120-250ms per char)</option>
                        <option value="fast">⚡ Fast (80-150ms per char)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="essay-length">📏 Essay Length:</label>
                    <select id="essay-length">
                        <option value="short">📄 Short (300-500 words)</option>
                        <option value="medium" selected>📝 Medium (500-800 words)</option>
                        <option value="long">📚 Long (800-1200 words)</option>
                    </select>
                </div>
            </div>

            <div class="action-section">
                <button id="start-btn" class="btn btn-primary">
                    🚀 Start Writing Essay
                </button>
                <button id="stop-btn" class="btn btn-danger" style="display: none;">
                    ⏹️ Stop Writing
                </button>
            </div>

            <div class="progress-section" id="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">Starting...</div>
            </div>

            <div class="settings-section">
                <h3>⚙️ Settings</h3>
                <div class="form-group">
                    <label for="api-key">🔑 OpenAI API Key:</label>
                    <input 
                        type="password" 
                        id="api-key" 
                        placeholder="sk-..." 
                        autocomplete="off"
                    >
                    <button id="save-api-key" class="btn btn-outline" style="margin-top: 0.5rem; width: 100%;">
                        💾 Save API Key
                    </button>
                    <p id="api-key-status" class="api-key-status" style="display: none;"></p>
                </div>
            </div>

            <div class="browser-control-section">
                <h3>🌐 Browser Control</h3>
                
                <div class="control-group">
                    <h4>Navigation</h4>
                    <div class="nav-controls">
                        <button id="nav-back" class="btn btn-outline">⬅️ Back</button>
                        <button id="nav-forward" class="btn btn-outline">➡️ Forward</button>
                        <button id="nav-refresh" class="btn btn-outline">🔄 Refresh</button>
                        <button id="nav-new-tab" class="btn btn-outline">➕ New Tab</button>
                    </div>
                </div>

                <div class="control-group">
                    <h4>Page Actions</h4>
                    <div class="action-controls">
                        <button id="take-screenshot" class="btn btn-outline">📸 Screenshot</button>
                        <button id="scroll-down" class="btn btn-outline">⬇️ Scroll Down</button>
                        <button id="scroll-up" class="btn btn-outline">⬆️ Scroll Up</button>
                        <button id="bookmark-page" class="btn btn-outline">🔖 Bookmark</button>
                    </div>
                </div>

                <div class="control-group">
                    <h4>Tab Management</h4>
                    <div class="tab-controls">
                        <button id="show-tabs" class="btn btn-outline">📑 Show Tabs</button>
                        <button id="close-current-tab" class="btn btn-outline">❌ Close Tab</button>
                    </div>
                    <div id="tabs-list" class="tabs-list" style="display: none;"></div>
                </div>

                <div class="control-group">
                    <h4>Automation</h4>
                    <div class="automation-controls">
                        <button id="start-recording" class="btn btn-outline">🔴 Start Recording</button>
                        <button id="stop-recording" class="btn btn-outline" style="display: none;">⏹️ Stop Recording</button>
                        <button id="playback-actions" class="btn btn-outline">▶️ Playback</button>
                        <button id="clear-recording" class="btn btn-outline">🗑️ Clear</button>
                    </div>
                </div>

                <div class="control-group">
                    <h4>Quick Actions</h4>
                    <div class="quick-controls">
                        <input type="text" id="custom-url" placeholder="Enter URL to navigate..." />
                        <button id="navigate-url" class="btn btn-outline">🚀 Go</button>
                    </div>
                    <div class="quick-controls">
                        <input type="text" id="element-selector" placeholder="CSS selector (e.g., #button)" />
                        <button id="click-selector" class="btn btn-outline">👆 Click</button>
                    </div>
                </div>
            </div>

            <div class="help-section">
                <h3>❓ How to Use</h3>
                <ol>
                    <li>Enter and save your OpenAI API key above</li>
                    <li>Open a Google Doc or any webpage</li>
                    <li>Use browser controls to navigate and interact</li>
                    <li>For essays: Enter your prompt and click "Start Writing Essay"</li>
                    <li>Watch the AI write your essay or control the browser!</li>
                </ol>
            </div>
        </main>
    </div>

    <script src="popup.js"></script>
</body>
</html>
